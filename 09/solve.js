const solve=()=>(i={a:0,b:0},p=require('fs').readFileSync("input.txt", "utf-8").split("\r\n").map(e => e.split(",").map(Number)),a=p=>{let a={a:0, c:null};for (let i = 0; i < p.length; i++) {const [x1, y1] = p[i];for (let j = i + 1; j < p.length; j++) {const [x2, y2] = p[j];const b = (Math.abs(x1 - x2)+1) * (Math.abs(y1 - y2)+1);if (b > a.a) {a.a = b;a.c = [p[i], p[j]];}}}return a.a;},b=p=>{let [xcm, maxX] = c(p.map(x => x[0])), [ycm, maxY] = c(p.map(x => x[1])),_b = 0,g = new Array(maxY+1).fill(0).map(_ => new Array(maxX+1).fill(0));{let prevX = null, prevY = null;for(let point of p) {let x = xcm.get(point[0]);let y = ycm.get(point[1]);g[y][x] = 1;if(prevX !== null) d(prevX, prevY, x, y);prevX = x, prevY = y;}d(prevX, prevY, xcm.get(p[0][0]), ycm.get(p[0][1]));}f(0, 0);for(let i = 0; i < p.length; ++i) {for(let j = 0; j < i; ++j) {let a = 1+Math.abs(p[i][0] - p[j][0]), b = 1+Math.abs(p[i][1] - p[j][1]),cur = a*b;if(cur < _b || !v(p[i], p[j])) continue; _b = cur;}}return _b;function d(x1, y1, x2, y2) {let xx = x1, yy = y1;if(xx === x2) yy += yy > y2 ? -1 : 1;else xx += xx > x2 ? -1 : 1;while(yy !== y2 || xx !== x2) {g[yy][xx] = 1;if(xx === x2) yy += yy > y2 ? -1 : 1;else xx += xx > x2 ? -1 : 1;}}function v(point1, point2) {let x1 = xcm.get(point1[0]), y1 = ycm.get(point1[1]), x2 = xcm.get(point2[0]), y2 = ycm.get(point2[1]),l = Math.min(x1, x2), r = Math.max(x1, x2), t = Math.max(y1, y2), b = Math.min(y1, y2);for(let y = b; y <= t; y += 2) {for(let x = l; x <= r; x += 2) {if(g[y][x] === -1) { return false; }}}return true;}function f(i, j) {let q = [i*g[0].length+j];g[i][j] = -1;while(q.length) {let dp = q.pop();let i = Math.floor(dp/g[0].length);let j = dp % g[0].length;for(let off of [[0, 1], [0, -1], [1, 0], [-1, 0]]) {let i2 = i + off[0];let j2 = j + off[1];if(i2 < 0 || j2 < 0 || i2 >= g.length || j2 >= g[0].length) { continue; }if(g[i2][j2]) { continue; }g[i2][j2] = -1;q.push(i2*g[0].length+j2);}}}function c(c) {let cM = 1;c.sort((a, b) => a-b);let cm = new Map();for(let i = 0; i < c.length; ++i) {if(!cm.has(c[i])) {cm.set(c[i], cM);cM += 2;}}return [cm, cM - 1];}},i.a=a(p),i.b=b(p),i)
console.log(solve())